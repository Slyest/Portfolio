<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Password Strength Checker</title>
  <!-- TailwindCSS CDN (no build step needed) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="description" content="A simple password strength checker that scores and explains password quality." />
  <style>
    /* strength meter bar colors */
    .meter-0 { background:#ef4444 }  /* red */
    .meter-1 { background:#f59e0b }  /* amber */
    .meter-2 { background:#84cc16 }  /* lime */
    .meter-3 { background:#22c55e }  /* green */
    .meter-4 { background:#16a34a }  /* darker green */
  </style>
</head>
<body class="bg-slate-50 text-slate-900">
  <main class="max-w-3xl mx-auto p-6">
    <header class="mb-6">
      <h1 class="text-3xl font-bold tracking-tight">Password Strength Checker</h1>
      <p class="text-slate-600">Type a password to see its score and specific ways to improve it.</p>
    </header>

    <section class="bg-white rounded-2xl shadow p-6 space-y-5">
      <!-- Input -->
      <div>
        <label for="pw" class="block text-sm font-medium text-slate-700 mb-2">Password</label>
        <div class="relative">
          <input id="pw" type="password" class="w-full rounded-xl border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 pr-12" placeholder="Enter a password…" autocomplete="off" spellcheck="false" />
          <button id="toggle" class="absolute right-2 top-1/2 -translate-y-1/2 text-sm px-3 py-1 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-100" aria-label="Show password">Show</button>
        </div>
      </div>

      <!-- Strength meter -->
      <div aria-live="polite">
        <div class="flex items-center justify-between mb-2">
          <span class="text-sm font-medium text-slate-700">Strength</span>
          <span id="label" class="text-sm font-semibold">—</span>
        </div>
        <div class="h-3 w-full bg-slate-200 rounded-full overflow-hidden">
          <div id="bar" class="h-full w-0 rounded-full transition-all duration-300"></div>
        </div>
      </div>

      <!-- Rule checklist -->
      <div>
        <p class="text-sm font-medium mb-2">Meets rules:</p>
        <ul class="grid sm:grid-cols-2 gap-2 text-sm" id="rules">
          <li data-rule="length" class="flex items-start gap-2">
            <span class="status w-2.5 h-2.5 rounded-full mt-1 bg-slate-300"></span>
            <span>At least <strong>12 characters</strong></span>
          </li>
          <li data-rule="upper" class="flex items-start gap-2">
            <span class="status w-2.5 h-2.5 rounded-full mt-1 bg-slate-300"></span>
            <span>Contains an <strong>uppercase</strong> letter (A-Z)</span>
          </li>
          <li data-rule="lower" class="flex items-start gap-2">
            <span class="status w-2.5 h-2.5 rounded-full mt-1 bg-slate-300"></span>
            <span>Contains a <strong>lowercase</strong> letter (a-z)</span>
          </li>
          <li data-rule="digit" class="flex items-start gap-2">
            <span class="status w-2.5 h-2.5 rounded-full mt-1 bg-slate-300"></span>
            <span>Contains a <strong>number</strong> (0-9)</span>
          </li>
          <li data-rule="special" class="flex items-start gap-2 sm:col-span-2">
            <span class="status w-2.5 h-2.5 rounded-full mt-1 bg-slate-300"></span>
            <span>Contains a <strong>special character</strong> (!@#$%^&amp;*(),.?":{}|&lt;&gt;)</span>
          </li>
        </ul>
      </div>

      <!-- Feedback -->
      <div>
        <p class="text-sm font-medium mb-2">Feedback</p>
        <div id="feedback" class="text-sm text-slate-700 bg-slate-100 rounded-xl p-3">Start typing to see suggestions…</div>
      </div>

      <!-- Actions -->
      <div class="flex flex-wrap gap-3">
        <button id="copy" class="px-4 py-2 rounded-xl bg-indigo-600 text-white font-medium hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500">Copy Feedback</button>
        <button id="suggest" class="px-4 py-2 rounded-xl border border-slate-300 hover:bg-slate-100">Generate Strong Example</button>
      </div>
    </section>

    <footer class="mt-8 text-xs text-slate-500">
      Built by Babajide Osiyemi as an independent project: evaluates password quality with checks and live guidance. No data is stored or sent anywhere. Enjoy!
    </footer>
  </main>

  <script>
    // --- Scoring logic (mirrors the Python script) ---
    const specialRe = /[!@#$%^&*(),.?":{}|<>]/;
    const upperRe = /[A-Z]/;
    const lowerRe = /[a-z]/;
    const digitRe = /[0-9]/;

    function evaluate(pw) {
      let score = 0;
      const feedback = [];

      // length
      if (pw.length >= 12) score += 2;
      else if (pw.length >= 8) score += 1;
      else feedback.push("Too short — use at least 12 characters.");

      // character classes
      if (upperRe.test(pw)) score += 1; else feedback.push("Add an uppercase letter.");
      if (lowerRe.test(pw)) score += 1; else feedback.push("Add a lowercase letter.");
      if (digitRe.test(pw)) score += 1; else feedback.push("Add a number.");
      if (specialRe.test(pw)) score += 1; else feedback.push("Add a special character (!@#$, etc.).");

      // labels (0–6+)
      let label = "Weak";
      if (score >= 6) label = "Strong";
      else if (score >= 4) label = "Medium";

      return { score, label, feedback };
    }

    // --- UI bindings ---
    const input = document.getElementById('pw');
    const bar = document.getElementById('bar');
    const label = document.getElementById('label');
    const feedbackBox = document.getElementById('feedback');
    const toggleBtn = document.getElementById('toggle');
    const copyBtn = document.getElementById('copy');
    const suggestBtn = document.getElementById('suggest');

    const rules = {
      length: (pw) => pw.length >= 12,
      upper:  (pw) => upperRe.test(pw),
      lower:  (pw) => lowerRe.test(pw),
      digit:  (pw) => digitRe.test(pw),
      special:(pw) => specialRe.test(pw),
    };

    function updateRuleDots(pw) {
      document.querySelectorAll('#rules [data-rule]').forEach(li => {
        const key = li.getAttribute('data-rule');
        const ok = rules[key](pw);
        const dot = li.querySelector('.status');
        dot.style.background = ok ? '#22c55e' : '#cbd5e1'; // green vs gray
        li.style.opacity = ok ? '1' : '0.9';
      });
    }

    function setMeter(score) {
      // normalize to 0..4 steps
      const step = Math.min(4, Math.max(0, Math.round((score/6)*4)));
      const widths = ['10%','35%','60%','85%','100%'];
      bar.style.width = widths[step];
      bar.className = 'h-full w-0 rounded-full transition-all duration-300 meter-' + step;
    }

    function render() {
      const pw = input.value;
      const { score, label: lbl, feedback } = evaluate(pw);

      // label
      label.textContent = pw ? lbl : '—';

      // meter
      setMeter(score);

      // rules
      updateRuleDots(pw);

      // feedback
      if (!pw) {
        feedbackBox.textContent = "Start typing to see suggestions…";
      } else if (score >= 6) {
        feedbackBox.textContent = "Strong password ✅";
      } else if (score >= 4) {
        feedbackBox.textContent = "Medium password – " + feedback.join(' ');
      } else {
        feedbackBox.textContent = "Weak password – " + feedback.join(' ');
      }
    }

    input.addEventListener('input', render);

    // Show/Hide password
    toggleBtn.addEventListener('click', (e) => {
      e.preventDefault();
      const isPw = input.type === 'password';
      input.type = isPw ? 'text' : 'password';
      toggleBtn.textContent = isPw ? 'Hide' : 'Show';
      toggleBtn.setAttribute('aria-label', isPw ? 'Hide password' : 'Show password');
      input.focus();
    });

    // Copy feedback
    copyBtn.addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(feedbackBox.textContent);
        copyBtn.textContent = 'Copied!';
        setTimeout(() => copyBtn.textContent = 'Copy Feedback', 1000);
      } catch {
        alert('Copy failed. You can select and copy manually.');
      }
    });

    // Generate strong example
    function randomStrong() {
      const sets = [
        "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
        "abcdefghijklmnopqrstuvwxyz",
        "0123456789",
        "!@#$%^&*()_+{}[]:;<>,.?/|~"
      ];
      // ensure one from each, then fill to 16–20
      let pw = [
        sets[0][Math.floor(Math.random()*26)],
        sets[1][Math.floor(Math.random()*26)],
        sets[2][Math.floor(Math.random()*10)],
        sets[3][Math.floor(Math.random()*sets[3].length)]
      ];
      const all = sets.join('');
      const targetLen = 16 + Math.floor(Math.random()*5);
      while (pw.length < targetLen) {
        pw.push(all[Math.floor(Math.random()*all.length)]);
      }
      // shuffle
      for (let i = pw.length-1; i>0; i--) {
        const j = Math.floor(Math.random()*(i+1));
        [pw[i], pw[j]] = [pw[j], pw[i]];
      }
      return pw.join('');
    }

    suggestBtn.addEventListener('click', () => {
      input.value = randomStrong();
      render();
    });

    // initial state
    render();
  </script>
</body>
</html>
